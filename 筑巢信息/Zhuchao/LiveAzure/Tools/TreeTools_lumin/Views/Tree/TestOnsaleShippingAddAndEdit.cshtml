@{
    Layout = null;
}
@using LiveAzure.Models.Product
@model LiveAzure.Models.Product.ProductOnShipping
<script src="../../Scripts/jquery.validate.min.js" type="text/javascript"></script>
<script src="../../Scripts/jquery.validate.unobtrusive.min.js" type="text/javascript"></script>
<script type="text/javascript">
    function onSaleShipSave() {
        $("#ProductShippingGrid").trigger('reloadGrid');
    }
</script>
<div>
    @Html.ValidationSummary(true)
    @using (Ajax.BeginForm("SaveOnsaleShipping", "Tree", Model, new AjaxOptions { HttpMethod = "POST", OnSuccess = "onSaleShipSave" }, new { id = "OnsaleShipForm" }))
    {
        <div>
            Add or Edit
        </div>
        <div>
            @Html.Label(LiveAzure.Resource.Model.Product.ProductOnSale.Product)
            @Html.DisplayFor(model => model.OnSale.Name.Matter)
        </div>
        <div>
            @if (ViewBag.bAddorEdit == true)
            {
                @Html.Label(LiveAzure.Resource.Model.Product.ProductOnSale.Channel)
                @Html.DropDownListFor(model => model.Shipper.FullName.Matter, (List<SelectListItem>)ViewBag.oShipperList)
                @Html.ValidationMessageFor(model => model.Shipper.FullName.Matter)
            }
            else
            {
                @Html.Label(LiveAzure.Resource.Model.Product.ProductOnSale.Channel)
                @Html.DisplayFor(model => model.Shipper.FullName.Matter) 
            }
        </div>
        <div>
            @Html.Label(LiveAzure.Resource.Model.Product.ProductOnShipping.ShipWeight)
            @Html.EditorFor(model => model.ShipWeight)
            @Html.ValidationMessageFor(model => model.ShipWeight)
        </div>
        <div>
            @Html.Label(LiveAzure.Resource.Model.Product.ProductOnShipping.Solution)
            @Html.DropDownListFor(model => model.Solution, (List<SelectListItem>)ViewBag.oSolutionList)
            @Html.ValidationMessageFor(model => model.Solution)
        </div>
        <div>
            @Html.Label(LiveAzure.Resource.Model.Product.ProductOnShipping.Discount)
            @Html.EditorFor(model => model.Discount)
            @Html.ValidationMessageFor(model => model.Discount)
        </div>
        <div>
            @Html.Label(LiveAzure.Resource.Model.Product.ProductOnShipping.SupportCod)
            @Html.DropDownListFor(model => model.SupportCod, (List<SelectListItem>)ViewBag.oSupportCodList)
            @Html.ValidationMessageFor(model => model.SupportCod)
        </div>
        <div>
            @Html.Label(LiveAzure.Resource.Model.Product.ProductOnShipping.Condition)
            @Html.EditorFor(model => model.Condition)
            @Html.ValidationMessageFor(model => model.Condition)
        </div>
        <div>
            @Html.Label(LiveAzure.Resource.Model.ModelBase.Remark)
            @Html.TextAreaFor(model => model.Remark)
            @Html.ValidationMessageFor(model => model.Remark)
        </div>
        <div>
            <input type="submit" value="@LiveAzure.Resource.Stage.ProductController.ButtonOK" />
            <input type="reset" value="@LiveAzure.Resource.Stage.ProductController.ButtonReset" />
        </div>
    }
</div>
