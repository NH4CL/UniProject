@{
    Layout = null;
}
@using LiveAzure.Models.Product
@model LiveAzure.Models.Product.ProductOnPayment
<script src="../../Scripts/jquery.validate.min.js" type="text/javascript"></script>
<script src="../../Scripts/jquery.validate.unobtrusive.min.js" type="text/javascript"></script>
<script type="text/javascript">
    function onSalePaymentSave() {
        $("#ProductPaymentGrid").trigger('reloadGrid');
    }

</script>
<div>
    @Html.ValidationSummary(true)
    @using (Ajax.BeginForm("SaveOnsalePayment", "Tree", Model, new AjaxOptions { HttpMethod = "POST", OnSuccess = "onSalePaymentSave" }, new { id = "OnsalePaymentForm" }))
    {
        <div>
            @Html.HiddenFor(model => model.Gid)
            @Html.HiddenFor(model => model.OnSaleID)
        </div>
        <div>
            @Html.Label(LiveAzure.Resource.Model.Product.ProductOnPayment.OnSale)
            @Html.DisplayFor(model => model.OnSale.Name.Matter)
        </div>
        <div>
            @Html.Label(LiveAzure.Resource.Model.Product.ProductOnPayment.PayType)
            @if (ViewBag.bAddorEdit == true)
            {            
                @Html.DropDownListFor(model => model.PayType.Name.Matter, (List<SelectListItem>)ViewBag.oPaytypeList)
            }
            else
            {
                @Html.DisplayFor(model => model.PayType.Name.Matter) 
            }
        </div>
        <div>
            @Html.Label(LiveAzure.Resource.Model.ModelBase.Remark)
            @Html.TextAreaFor(model => model.Remark)
        </div>
        <div>
            <input type="submit" value="@LiveAzure.Resource.Stage.ProductController.ButtonOK" />
            <input type="reset" value="@LiveAzure.Resource.Stage.ProductController.ButtonReset" />
        </div>
    }
</div>
