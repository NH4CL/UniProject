@{
    Layout = null;
}
@using LiveAzure.Models.Product
@model LiveAzure.Models.Product.ProductOnShipping
<script src="../../Scripts/jquery.validate.min.js" type="text/javascript"></script>
<script src="../../Scripts/jquery.validate.unobtrusive.min.js" type="text/javascript"></script>
<script type="text/javascript">
    function onSaleShipSave() {
        document.body.removeChild(document.getElementById("newEditPageDiv"));
        document.body.removeChild(document.getElementById("newCoverPageDiv")); 
        $("#ProductShippingGrid").trigger('reloadGrid');
    }
</script>
<div>
    @Html.ValidationSummary(true)
    @using (Ajax.BeginForm("SaveOnsaleShipping", "Product", Model, new AjaxOptions { HttpMethod = "POST", OnSuccess = "onSaleShipSave" }, new { id = "OnsaleShipForm" }))
    {
    <div class="down_AddorEdit">
        <table>
            <tr>
                @LiveAzure.Resource.Stage.ProductController.AddOrEditShipping
            </tr>
            <tr>
                <th>
                    @Html.Label(LiveAzure.Resource.Model.Product.ProductOnSale.Product)
                </th>
                <td>
                    @Html.DisplayFor(model => model.OnSale.Name.Matter)
                </td>
            </tr>
                @if (ViewBag.bAddorEdit == true)
                {
                    <tr>
                        <th>
                            @Html.Label(LiveAzure.Resource.Model.Product.ProductOnSale.Channel)
                        </th>
                        <td>
                            @Html.DropDownListFor(model => model.Shipper.FullName.Matter, (List<SelectListItem>)ViewBag.oShipperList)
                            @Html.ValidationMessageFor(model => model.Shipper.FullName.Matter)
                        </td>
                    </tr>
                }
                else
                {
                    <tr>
                        <th>
                            @Html.Label(LiveAzure.Resource.Model.Product.ProductOnSale.Channel)
                        </th>
                        <td>
                            @Html.DisplayFor(model => model.Shipper.FullName.Matter) 
                        </td>
                    </tr>
                }
            <tr>
                <th>
                    @Html.Label(LiveAzure.Resource.Model.Product.ProductOnShipping.ShipWeight)
                </th>
                <td>
                    @Html.EditorFor(model => model.ShipWeight)
                    @Html.ValidationMessageFor(model => model.ShipWeight)
                </td>
            </tr>
            <tr>
                <th>
                    @Html.Label(LiveAzure.Resource.Model.Product.ProductOnShipping.Solution)
                </th>
                <td>
                    @Html.DropDownListFor(model => model.Solution, (List<SelectListItem>)ViewBag.oSolutionList)
                    @Html.ValidationMessageFor(model => model.Solution)
                </td>
            </tr>
            <tr>
                <th>
                    @Html.Label(LiveAzure.Resource.Model.Product.ProductOnShipping.Discount)
                </th>
                <td>
                    @Html.EditorFor(model => model.Discount)
                    @Html.ValidationMessageFor(model => model.Discount)
                </td>
            </tr>
            <tr>
                <th>
                    @Html.Label(LiveAzure.Resource.Model.Product.ProductOnShipping.SupportCod)
                </th>
                <td>
                    @Html.DropDownListFor(model => model.SupportCod, (List<SelectListItem>)ViewBag.oSupportCodList)
                    @Html.ValidationMessageFor(model => model.SupportCod)
                </td>
            </tr>
            <tr>
                <th>
                    @Html.Label(LiveAzure.Resource.Model.Product.ProductOnShipping.Condition)
                </th>
                <td>
                    @Html.EditorFor(model => model.Condition)
                    @Html.ValidationMessageFor(model => model.Condition)
                </td>
            </tr>
            <tr>
                <th>
                    @Html.Label(LiveAzure.Resource.Model.ModelBase.Remark)
                </th>
                <td>
                    @Html.TextAreaFor(model => model.Remark)
                    @Html.ValidationMessageFor(model => model.Remark)
                </td>
            </tr>
        </table>
        <div>
            <input type="submit" value="@LiveAzure.Resource.Common.Submit" />
            <input type="reset" value="@LiveAzure.Resource.Common.Reset" />
        </div>
    </div>
    }
</div>
