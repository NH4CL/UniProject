@using MVC.Controls;
@using MVC.Controls.Grid;
@{
    ViewBag.Title = "PurchaseHistory";
}
<div>
    @Html.Grid(new GridControl()
    .SetName("gridPurHistory")
    .SetPageSize(10)
    .SetIsAutoSize(false)
    .SetHttpVerb(HttpVerbs.Get)
    .SetListUrl("/Purchase/listPurchaseHistory")
    .SetHeight("'100%'")
    .SetWidth("600")
    .SetColumns<LiveAzure.Models.Purchase.PurchaseHistory>(cs =>
        {
            cs.Add(x => x.Gid).SetAsPrimaryKey().SetHidden(true);
            cs.Add(x => x.DocVersion).SetCaption(LiveAzure.Resource.Model.Purchase.PurchaseHistory.DocVersion);
            cs.Add(x => x.Quantity).SetCaption(LiveAzure.Resource.Model.Purchase.PurchaseHistory.Quantity);
            cs.Add(x => x.Amount).SetCaption(LiveAzure.Resource.Model.Purchase.PurchaseHistory.Amount);
        })
    )
    <br />
    <input type="button"  value="@LiveAzure.Resource.Stage.PurchaseController.LookItem"  onclick="lookHis()" />  
</div>
<script type ="text/javascript">
    function lookHis() {
        var hisid = $("#gridPurHistory").jqGrid("getGridParam", "selrow");
        if (hisid == null)
        { alert('@LiveAzure.Resource.Stage.OrganizationController.selRowAlert'); }
        else {
            window.location.href = "/Purchase/PurchaseHistoryDefination?id=" + hisid;
        }
    }
</script>
